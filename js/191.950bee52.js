"use strict";(self["webpackChunkdemo1"]=self["webpackChunkdemo1"]||[]).push([[191],{5191:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"manage"},[l("el-dialog",{attrs:{title:"add"==e.operateType?"新增用户":"更新用户",visible:e.isShow},on:{"update:visible":function(t){e.isShow=t}}},[l("Form",{ref:"form",attrs:{formLabel:e.opertateFormLabel,form:e.operateForm,inline:!0}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.isShow=!1}}},[e._v("取消")]),l("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确定")])],1)],1),l("div",{staticClass:"manage-header"},[l("div",[l("el-button",{staticClass:"aaa",attrs:{type:"primary"},on:{click:e.addUser}},[e._v("新增")])],1),l("div",[l("Form",{ref:"form",attrs:{formLabel:e.formLabel,form:e.searchFrom,inline:!0}},[l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getList(e.searchFrom.keyword)}}},[e._v("搜索")])],1)],1)]),l("div",[l("TaBel",{attrs:{tabelData:e.tabelData,tabelLabel:e.tabelLabel,config:e.config},on:{changePage:function(t){return e.getList()},edit:e.editUser,del:e.delUser}})],1)],1)},a=[],r=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",inline:e.inline}},[e._l(e.formLabel,(function(t){return l("el-form-item",{key:t.label,attrs:{label:t.label}},["input"===t.type?l("el-input",{attrs:{placeholder:"请输入"+t.label},model:{value:e.form[t.model],callback:function(l){e.$set(e.form,t.model,l)},expression:"form[item.model]"}}):e._e(),"switch"===t.type?l("el-switch",{model:{value:e.form[t.model],callback:function(l){e.$set(e.form,t.model,l)},expression:"form[item.model]"}}):e._e(),"date"===t.type?l("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.form[t.model],callback:function(l){e.$set(e.form,t.model,l)},expression:"form[item.model]"}}):e._e(),"select"===t.type?l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form[t.model],callback:function(l){e.$set(e.form,t.model,l)},expression:"form[item.model]"}},e._l(t.opts,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e()],1)})),l("el-form-item",[e._t("default")],2)],2)},i=[],s={name:"Form",props:{formLabel:Array,form:Object,inline:Boolean}},n=s,m=l(1001),d=(0,m.Z)(n,r,i,!1,null,null,null),p=d.exports,c={name:"User",components:{Form:p,TaBel:()=>l.e(523).then(l.bind(l,4523))},data(){return{operateType:"add",isShow:!1,opertateFormLabel:[{model:"name",label:"姓名",type:"input"},{model:"age",label:"年龄",type:"input"},{model:"sex",label:"性别",type:"select",opts:[{label:"男",value:1},{label:"女",value:0}]},{model:"birth",label:"出生日期",type:"date"},{model:"addr",label:"地址",type:"input"}],operateForm:{name:"",addr:"",age:"",birth:"",sex:""},formLabel:[{model:"keyword",label:"",type:"input"}],searchFrom:{keyword:""},tabelData:[],tabelLabel:[{prop:"name",label:"姓名"},{prop:"age",label:"年龄"},{prop:"sexLabel",label:"性别"},{prop:"birth",label:"出生日期",width:200},{prop:"addr",label:"地址",width:320}],config:{page:1,total:30}}},methods:{confirm(){"edit"===this.operateType?this.$API.reqEdit(this.operateForm).then((e=>{console.log(e),this.isShow=!1,this.getList()})):this.$API.reqAdd(this.operateForm).then((e=>{console.log(e),this.isShow=!1,this.getList()}))},addUser(){this.isShow=!0,this.operateType="add",this.operateForm={name:"",addr:"",age:"",birth:"",sex:""}},getList(e=""){this.config.loading=!0,e&&(this.config.page=1),this.$API.reqGetList({page:this.config.page,name:e}).then((e=>{this.tabelData=e.list.map((e=>(e.sexLabel=0===e.sex?"女":"男",e))),this.config.total=e.count,this.config.loading=!1}))},editUser(e){this.operateType="edit",this.isShow=!0,this.operateForm=e},delUser(e){this.$confirm("此操作将永久删除该文件,是否继续","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((t=>{const l=e.id;this.$API.reqDel(l).then((e=>{this.$message({type:"success",message:"删除成功"}),2e4===e.code&&this.getList()}))}))}},created(){this.getList()}},f=c,h=(0,m.Z)(f,o,a,!1,null,null,null),u=h.exports}}]);
//# sourceMappingURL=191.950bee52.js.map